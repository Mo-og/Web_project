<!doctype html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <title> Изменение данных работников </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon-->
    <link rel="shortcut icon" href="../img/fav.png">
    <!-- Author Meta -->
    <meta charset="UTF-8">
    <!-- Site Title -->

    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet">

    <link rel="stylesheet" href="../css/linearicons.css">
    <link rel="stylesheet" href="../css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/magnific-popup.css">
    <link rel="stylesheet" href="../css/nice-select.css">
    <link rel="stylesheet" href="../css/animate.min.css">
    <link rel="stylesheet" href="../css/owl.carousel.css">
    <link rel="stylesheet" href="../css/main.css">

    <!-- Jquery Js -->
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../js/element.js"></script>
    <script type="text/javascript" src="../js/modernizr.js"></script>
    <script type="text/javascript" src="../js/owl.carousel.js"></script>
    <script type="text/javascript" src="../js/jquery.localscroll-1.2.7-min.js"></script>
    <script type="text/javascript" src="../js/wow.min.js"></script>
    <script type="text/javascript" src="../js/imagesloaded.pkgd.min.js"></script>
    <script type="text/javascript" src="../js/jquery.isotope.min.js"></script>
    <script type="text/javascript" src="../js/jquery.parallax-1.1.3.js"></script>
    <script type="text/javascript" src="../js/jquery.magnific-popup.js"></script>
    <script type="text/javascript" src="../js/moment-with-locales.js"></script>
    <script type="text/javascript" src="../js/bootstrap-datetimepicker.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js" ></script>
    <script src="https://cdn.datatables.net/plug-ins/1.10.16/sorting/datetime-moment.js"></script>
</head>

<body id="mainBox" class="creamBg" data-spy="scroll" data-target="#bs-example-navbar-collapse-1" data-offset="150">
<header id="header" class="home">
    <div class="container">
        <div class="row align-items-center justify-content-between d-flex">
            <div id="logo">
                <a th:href="@{/}"><img src="../img/logo.png" alt="" title="" /></a>
            </div>
            <nav id="nav-menu-container">
                <ul class="nav-menu">
                    <li class="menu-active"><a th:href="@{/}">Главная</a></li>
                    <li>
                        <a onclick="return confirm('Вы уверены, что хотите выйти из личного кабинета?');"
                           th:href="@{/logout}"><span style="color: #ff7f50;">Выйти</span></a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</header><!-- #header -->
<br><br>
<section  class="reservation-block pad-top-100 pad-bottom-100">
    <div class="container pr">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <br>
                <h2 class="block-title text-align-center"><span class="side-img left-side-img"><i></i><i></i><i></i></span> Изменение личных данных<span class="side-img right-side-img"><i></i><i></i><i></i></span> </h2>
                <br><h4 class="block-title text-align-center">Измените необходимые поля и нажмите кнопку 'Сохранить'</h4>
                <br>
                <form enctype="multipart/form-data"  th:action="@{/user_update}" th:object="${user}" method="post" novalidate>
                    <div class="row">
                        <label for="id"><input th:field="*{id}" type="hidden" class="form-control" id="id"
                                               th:value="${user.id}"></label>
                        <label for="roles"><input th:field="*{roles}" type="hidden" class="form-control" id="roles"
                                                  th:value="${user.roles}"></label>
                        <div class="col-md-12">
                            <h4 class="mb-3">Поля для заполнения</h4><br>

                            <div class="row">

                                <div class="col-md-4 mb-3">
                                    <label for="surname">Фамилия</label>
                                    <input th:field="*{surname}" type="text" class="form-control" id="surname"
                                           placeholder="2 - 100 букв"
                                           th:value="${user.surname}" required>
                                    <small class="text-danger" th:if="${#fields.hasErrors('surname')}"
                                           th:errors="*{surname}"></small>
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="name">Имя</label>
                                    <input th:field="*{name}" type="text" class="form-control" id="name"
                                           placeholder="2 - 100 букв"
                                           th:value="${user.name}" required>
                                    <small class="text-danger" th:if="${#fields.hasErrors('name')}"
                                           th:errors="*{name}"></small>
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="patronymic">Отчество</label>
                                    <input th:field="*{patronymic}" type="text" class="form-control" id="patronymic"
                                           placeholder="2 - 100 букв"
                                           th:value="${user.patronymic}" required>
                                    <small class="text-danger" th:if="${#fields.hasErrors('patronymic')}"
                                           th:errors="*{patronymic}"></small>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="email">Электронная почта</label>
                                    <input th:field="*{email}" type="email" class="form-control" id="email"
                                           placeholder="name@example.com" th:value="${user.email}" required>
                                    <small class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></small>
                                </div>


                                <div class="col-md-6 mb-3">
                                    <label for="username">Телефон (логин)</label>
                                    <input th:field="*{username}" type="text" class="form-control" id="username"
                                           placeholder="+380981234567" th:value="${user.username}" required>
                                    <small class="text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></small>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="address">Домашний адрес</label>
                                    <input th:field="*{address}" type="text" class="form-control" id="address" placeholder=""
                                           th:value="${user.address}" required>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="password">Пароль для входа на сайт (зашифрован), можно сменить</label>
                                    <input th:field="*{password}" type="text" class="form-control" id="password" placeholder=""
                                           th:value="${user.password}" required>
                                    <small class="text-danger" th:if="${#fields.hasErrors('password')}"
                                           th:errors="*{password}"></small>
                                </div>
                            </div>
                            <hr class="mb-4">
                            <div class="container">
                                <div class="row">
                                    <div class="col-12 col-md-6">
                                        <button class="btn btn-warning btn-lg btn-block" type="submit" value="Submit">Сохранить</button>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <button type="button" class="btn btn-danger btn-lg btn-block"
                                                th:onclick="'javascript:sure(\'' + ${user.id} + '\');'">Удалить страницу
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<br/><br/><br/>
<script>
    function sure(id) {
        let sured = confirm("Вы уверены, что хотите удалить свою страницу? Это действие необратимо!");
        if (sured) {
            document.location.href = "worker_remove?id=" + id;
        }
    }</script>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS-->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
<!-- Jquery Js -->
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/element.js"></script>
<script type="text/javascript" src="../js/modernizr.js"></script>
<script type="text/javascript" src="../js/owl.carousel.js"></script>
<script type="text/javascript" src="../js/jquery.localscroll-1.2.7-min.js"></script>
<script type="text/javascript" src="../js/wow.min.js"></script>
<script type="text/javascript" src="../js/imagesloaded.pkgd.min.js"></script>
<script type="text/javascript" src="../js/jquery.isotope.min.js"></script>
<script type="text/javascript" src="../js/jquery.parallax-1.1.3.js"></script>
<script type="text/javascript" src="../js/jquery.magnific-popup.js"></script>
<script type="text/javascript" src="../js/moment-with-locales.js"></script>
<script type="text/javascript" src="../js/bootstrap-datetimepicker.js"></script>
</body>
</html>